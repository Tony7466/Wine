The Wine maintenance release 6.0.3 is now available.

What's new in this release (see below for details):
  - Various bug fixes

The source is available from the following locations:

  https://dl.winehq.org/wine/source/6.0/wine-6.0.3.tar.xz
  http://mirrors.ibiblio.org/wine/source/6.0/wine-6.0.3.tar.xz

Binary packages for various distributions will be available from:

  https://www.winehq.org/download

You will find documentation on https://www.winehq.org/documentation

You can also get the current source directly from the git
repository. Check https://www.winehq.org/git for details.

Wine is available thanks to the work of many people. See the file
AUTHORS in the distribution for the complete list.

----------------------------------------------------------------

Bugs fixed in 6.0.3 (total 46):

  30244  Might & Magic Clash of Heroes: fails to start
  36887  Trusteer Rapport setup crashes on unimplemented function ntoskrnl.exe.PsGetCurrentProcessSessionId
  37592  Filenames in themed file dialog change size
  39142  Roblox Client/Server connection is dropped with error "This server has shut down."
  41292  Nexton LC-ScriptEngine freezes, possibly bad dsound notifications
  47047  Multiple kernel drivers crash due to missing 'ntoskrnl.exe.MmGetPhysicalAddress' semi-stub (64-bit MRAC Anti-Cheat (My.Com Warface) kernel service, DELL BIOS flash utility, BattlEye Anti-Cheat)
  47505  Levelhead: Fatal error when attempting to access the game's servers when logged in
  47791  Inconsistent %ERRORLEVEL% after setting env var value in cmd.exe
  48891  Bash from Cygwin/msys2 terminates after first command
  49625  winedbg --command 'info wnd' fails with Exception c0000005
  49726  ChrisPC Free VPN Connection 2.x crashes on unimplemented function rasapi32.dll.RasSetCredentialsA when clicking 'Connect to VPN'
  50041  Amnesia: Rebirth crashes with builtin vcomp140
  50113  Total Commander 9.51: when using a third-party theme with Windows XP, the drive buttons and function buttons at the bottom of the window (F5 Copy) are not displayed
  50244  Melodyne 5: activation via internet fails with 12152 error
  50272  Melodyne 5: activation via internet produces "Unknown Error"
  50404  Sims 4 crashes on startup with builtin msvcrt
  50412  Wrong check for needed access rights in QueryServiceConfig2
  50603  WiX Toolset v3.11 installer crashes when loading update feed XML
  50615  Excel 2007 needs ICreateTypeInfo2::DeleteFuncDesc()
  50735  MSBuild fails to launch FileTracker
  51221  Dangerous Water crash when starting a Multiplayer game (requires IDirectPlay8Server_EnumServiceProviders implementation)
  51244  Frostpunk doesn't launch with builtin msvcr120
  51264  GUI exe receives invalid StdOutput HANDLE if launched via ShellExecuteEx
  51267  Rise of Legends Demo crashes with null pointer exception inside SAXReader::parseURL
  51291  Youkoso! Sukebe Elf no Mori e (demo) doesn't show thumbnail image in monitor settings.
  51302  NASCAR '15 Victory Edition gets in infinite loop on launch
  51303  Metal Gear Solid V: Ground Zeroes needs d3d11_swapchain_GetLastPresentCount implementation
  51348  uxtheme.SetWindowTheme should use SendMessage to send WM_THEMECHANGED
  51358  Civilization 4: XML load error when trying to start
  51382  NetEase Cloud Music crashes on zh_CN.UTF-8 locale.
  51435  iostream float formatting broken since Wine 5.12-170-g1bc6f0c8617
  51452  oleaut32:varformat fails in Wine when the currency sign has two characters or more
  51465  EVE Online launcher crashes
  51503  vbscript parser error in expression with # char
  51505  MIDISelector's MIDI mapper configuration doesn't take effect
  51506  Disabled controls are not greyed out when theming is active
  51535  Native Access 1.13.3 crashes on unimplemented function virtdisk.dll.DetachVirtualDisk
  51553  Purple bitmap should be transparent in scrollbar theming
  51574  swscanf_s with %zu fails for valid value
  51576  Click-N-Type 3.03 virtual keyboard installer sometimes has two task panes
  51590  services:service fails when the KDE taskbar is at the top
  51591  AFxW: file list panes aren't updated at start-up
  51635  wine fails to build with glibc 2.34
  51728  copypasta in pwcache.c:ctox()
  51894  ucrtbase:misc fails on some Windows 10 1607 and 1709
  51932  wine-stable 6.0.2 build fails in Ubuntu 21.10

----------------------------------------------------------------

Changes since 6.0.2:

Akihiro Sagawa (6):
      ntdll/tests: Expand path name tests with path + device name.
      ntdll: Validate directory path when the path name ends with a dos device name.
      ntdll: Fix null pointer dereference in RtlDosPathNameToNtPathName_U_WithStatus.
      midimap: Introduce XP form and prefer it.
      user32/tests: Test pending redraw state with owner-drawn list box.
      user32/listbox: Fix redraw after LB_SETCOUNT message.

Alex Henrie (2):
      ntoskrnl: Add MmGetPhysicalAddress semi-stub.
      rasapi32: Add RasSetCredentialsA/W stubs.

Alexandre Julliard (2):
      ntdll: Avoid crash on shutting down partially initialized thread.
      wininet/tests: Mark a failing test as todo.

Alistair Leslie-Hughes (5):
      services: Check correct permission for QueryServiceConfig2W.
      dpnet: Implement IDirectPlay8Server EnumServiceProviders.
      ntoskrnl.exe: Implement PsGetCurrentProcessSessionId.
      wininet: Reset context length for http status 304.
      wininet: Allow up to 4K for response headers.

Andrew Boyarshin (1):
      include: Fix IRequestDictionary IID.

Andrew Eikum (1):
      comctl32: Avoid gcc 11 maybe-uninitialized warning.

Andrey Gusev (1):
      msvcr120: Add version.rc file.

Austin English (1):
      virtdisk: Add DetachVirtualDisk stub.

Bernhard Übelacker (1):
      attrib: Avoid crash when called without parameter.

Brendan McGrath (1):
      kernelbase: Don't pass StdHandles with CREATE_NEW_CONSOLE.

Damjan Jovanovic (4):
      server: The owner of a securable object should have all the standard access rights.
      msxml3: Return S_FALSE from IXMLDOMNamedNodeMap::nextNode() when there are no attributes.
      msxml3/tests: Add some regex tests.
      msxml3: Use XSD regex quantifier format S{0, m} instead of S{, m}.

Dmitry Timoshkov (1):
      vcruntime140_1: Fix compilation with clang.

Eric Pouech (1):
      winedbg: Fix crash when no process attached in 'info wnd' command.

Fabian Maurer (3):
      configure: Improve resolv lib test for glibc 2.34.
      mpr: Fix copy paste error when converting hex char to int.
      msi: Set dialog as parent in subsequent dialog.

Florian Eder (1):
      cmd: Do not change errorlevel when setting environment variables.

François Gouget (16):
      ntdll: Fix the spelling of a comment.
      oleaut32/tests: Allow testing VarParseNumFromStr() using Unicode strings.
      oleaut32/tests: Add more VarParseNumFromStr() tests.
      oleaut32: Fix VarParseNumFromStr()'s support for two-character currencies.
      oleaut32: VarParseNumFromStr() accepts trailing currency symbols.
      oleaut32: Setting sThousand to a non-breaking space also matches regular spaces.
      oleaut32: Fix a trace containing a null character.
      oleaut32/tests: Fix the Swiss franc and Moroccan dirham tests.
      oleaut32: VarParseNumFromStr() does not allow leading thousands separators.
      oleaut32: Fix VarParseNumFromStr()'s support for trailing thousands separator spaces.
      oleaut32/tests: Test VarParseNumFromStr()'s handling of LOCALE_SMON*.
      oleaut32/tests: Add more VarParseNumFromStr() hexadecimal/octal tests.
      oleaut32: Remove caching from VARIANT_GetLocalisedNumberChars().
      oleaut32: Fix VarParseNumFromStr()'s handling of currency thousands separators.
      oleaut32: Add support for longer currency symbols.
      gdiplus: GdipGetFamilyName() should not crash when given a NULL name.

Gerald Pfeifer (1):
      ntdll: Only use sysinfo function when present.

Gijs Vermeulen (2):
      vcomp: Implement omp_get_num_procs().
      ntdll: Avoid declaration-after-statement warning.

Giovanni Mascellani (1):
      kernelbase: Fix an incorrect allocation size.

Hans Leidekker (10):
      wldap32: Rename ldap_connect() to avoid a name conflict.
      winhttp: Pass a socket pointer to send_bytes() and receive_bytes().
      winhttp: Read any data left in the request buffer for websocket connections.
      winhttp: Call read_data() at least once in drain_content().
      winhttp: Call drain_content() before clear_response_headers().
      winhttp: Fix return value for relative redirects.
      winhttp: Don't remove content-type/length headers in handle_redirect().
      winhttp/tests: Add redirect tests.
      wbemprox: Return an empty array for __DERIVATION.
      wbemprox: Add __DERIVATION to the list of system properties.

Henri Verbeet (2):
      dxgi/tests: Add a test for swapchain present counts.
      dxgi: Implement d3d11_swapchain_GetLastPresentCount().

Hiroki Awata (1):
      dsound: Notify DSBPN_OFFSETSTOP earlier.

Jacek Caban (2):
      advapi32: Link to msvcrt.dll.
      include: Use __builtin_offsetof on Clang.

Jactry Zeng (1):
      gdi32: Fix a typo in unix_face_create().

Jan Sikorski (1):
      winemac.drv: Omit WM_ENTER/EXITSIZEMOVE on non-interactive window changes.

Jefferson Carpenter (1):
      msxml3/saxreader: Handle null url in parseURL().

Kalen Alwardt (1):
      ntdll: Export ZwFilterToken().

Nikolay Sivov (2):
      oleaut32: Added ICreateTypeInfo2::DeleteFuncDesc().
      d3dx9/effect: Reset output handle for next after last technique in FindNextValidTechnique().

Oleg Dubinskiy (1):
      include: Add RASCREDENTIALSA/W structures.

Paul Gofman (2):
      wined3d: Add GPU information for AMD VANGOGH.
      kernelbase: Fix copy size for delete_privs in CreateRestrictedToken().

Piotr Caban (3):
      msvcrt: Update round_limb on first limb length change in printf.
      msvcrt: Support z length modifier in scanf.
      ucrtbase: Fix fopen x mode test failures.

Robert Wilhelm (1):
      vbscript: Support date and time literals.

Roman Pišl (1):
      ntdll: Don't pretend that the whole address space is reserved on non-i386.

Rémi Bernon (4):
      msvcrt: Set next_token when str is empty in wcstok_s.
      dssenh/tests: Add CryptAcquireContextA last error check.
      dssenh: Return NTE_BAD_KEYSET when key cannot be opened.
      dssenh: Only fill hash buffer when it's provided.

Ted Lyngmo (1):
      ucrtbase: Add support for x mode in fopen.

Vijay Kiran Kamuju (1):
      msdrm: Add stub DRMRegisterContent function.

Zebediah Figura (2):
      quartz: Do not print an incorrect state warning in MediaFilter_GetState() if a filter has been run asynchronously.
      server: Return STATUS_KEY_DELETED when trying to retrieve the full name of a deleted key.

Zhiyi Zhang (8):
      uxtheme/tests: Test SetWindowTheme() with a non-existent subclass.
      uxtheme: Fall back to default class if the specified subclass is not found.
      uxtheme/tests: Test that SetWindowTheme() should send WM_THEMECHANGED instead of posting it.
      uxtheme: Send WM_THEMECHANGED instead of posting it in SetWindowTheme().
      uxtheme: Fix incorrect part IDs in button class map.
      uxtheme: Use TransparentBlt() for bitmaps with all alpha values being 0xff.
      user32: Report a fake monitor when running on an invisible window station.
      uxtheme: Get and set system metrics in 96 DPI.

--
Michael Stefaniuc
mstefani@winehq.org
